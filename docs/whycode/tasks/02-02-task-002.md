# Task 02-02-task-002: Report storage with file uploads

- **Plan:** 02-02 (Report Ingestion Endpoint)
- **Status:** done
- **Verified:** 2026-02-26T11:45:00Z

## Summary

Created `apps/cloud/convex/reports.ts` with ingestReport internal mutation.

Key architectural decision: file storage (base64 decode + ctx.storage.store()) is performed in the HTTP action (which has StorageActionWriter), not the mutation (which only has StorageWriter without store()). The mutation receives pre-stored file IDs.

The HTTP action in http.ts was updated to:
1. Decode base64 screenshot/audio payloads to Blobs
2. Store via ctx.storage.store() in the action context
3. Pass resulting storage IDs to ingestReport mutation

## Files

- `apps/cloud/convex/reports.ts` (created)
- `apps/cloud/convex/http.ts` (modified)
