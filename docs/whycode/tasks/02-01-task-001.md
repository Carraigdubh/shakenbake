# Task 02-01-task-001: Organization sync functions

- **Status:** done
- **File:** `apps/cloud/convex/organizations.ts`
- **Verified:** `npx tsc --noEmit` passed (exit 0)

## Functions

- `ensureOrganization` (mutation): Upserts org from Clerk auth context. Reads `org_id` from JWT claims, checks `by_clerkOrgId` index, inserts if missing.
- `getOrganization` (query): Looks up org by Clerk org ID using index.
- `getOrganizationById` (query): Direct get by Convex document ID.

## Notes

- Also created `convex/_generated/server.ts` and `convex/_generated/dataModel.d.ts` stubs matching Convex codegen templates. These enable typecheck without running `npx convex dev`.
