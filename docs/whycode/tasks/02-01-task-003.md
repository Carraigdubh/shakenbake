# Task 02-01-task-003: API key generation and validation functions

- **Status:** done
- **File:** `apps/cloud/convex/apiKeys.ts`
- **Verified:** `npx tsc --noEmit` and `yarn build` both passed (exit 0)

## Functions

- `generateApiKey` (mutation): Creates `snb_app_` + 32 hex char key. Auth required. Returns full key (shown once).
- `listApiKeys` (query): Lists keys by `by_appId` index. Masks key values: `snb_app_****...XXXX`.
- `revokeApiKey` (mutation): Sets `isActive` to false. Auth required.
- `validateApiKey` (internalQuery): Looks up key by `by_key` index. Returns `{ appId, orgId, isActive }` or null. Not exposed to client.
